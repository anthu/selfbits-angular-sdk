!function(e){e.module("selfbitsAngular",["ngResource","ngSanitize"]).run(function(e,n){e.domain||n.error('Selfbits SDK: you MUST set $sbApiProvider.domain="yourDomain"'),e.id||n.error('Selfbits SDK: you MUST set $sbApiProvider.appId="yourId"'),e.id&&e.domain||n.error("If you don't have a Selfbits account yet, you can get one at http://baas.selfbits.org")})}(angular),function(e){e.module("selfbitsAngular").constant("sbConfig",{id:null,domain:null,secret:null})}(angular),function(e){function n(e,n){function t(e,n,t,o,a,r,i){function u(r){var u=new e.defer,s=o.gen()+o.gen(),d=a.open(i.domain+"/api/v1/oauth/"+r+"?sb_app_id="+i.id+"&sb_app_secret="+i.secret+"&state="+s,"_blank","height=700, width=500"),c=t(function(){d.closed&&(n.get(i.domain+"/api/v1/oauth/"+r+"/token?sb_app_id="+i.id+"&sb_app_secret="+i.secret+"&state="+s).then(function(e){u.resolve(e.data),n.defaults.headers.common.Authorization="Bearer "+e.data.token}),t.cancel(c))},1e3);return u.promise}function s(t){var o=new e.defer;return n.post(i.domain+"/api/v1/auth/login",t).then(function(e){n.defaults.headers.common.Authorization="Bearer "+e.data.token,o.resolve(e.data)},function(e){o.reject(e)}),o.promise}function d(t){var o=new e.defer;return n.post(i.domain+"/api/v1/auth/signup",t).then(function(e){n.defaults.headers.common.Authorization="Bearer "+e.data.token,o.resolve(e.data)},function(e){o.reject(e)}),o.promise}function c(t){var o=new e.defer;return n.post(i.domain+"/auth/signup?sb_app_id="+i.id+"&sb_app_secret="+i.secret,t).then(function(e){n.defaults.headers.common.Authorization="Bearer "+e.data.token,o.resolve(e.data)},function(e){o.reject(e)}),o.promise}var f={auth:u,login:s,signup:d,unlink:c};return f}Object.defineProperties(this,{domain:{get:function(){return n.domain},set:function(e){n.domain=e}},appId:{get:function(){return n.id},set:function(t){n.id=t,e.defaults.headers.common["SB-App-Id"]=t}},appSecret:{get:function(){return n.secret},set:function(t){n.secret=t,e.defaults.headers.common["SB-App-Secret"]=t}}}),this.$get=t}e.module("selfbitsAngular").provider("$sbApi",n)}(angular),function(e){function n(e,n){function t(t){return n(e.domain+"/api/v1/database/"+t+"/:itemId",{itemId:"@itemId"})}var o={table:t};return o}e.module("selfbitsAngular").factory("$sbDatabase",n)}(angular),function(e){function n(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function n(){return e()+e()+e()+e()+e()+e()+e()+e()}var t={gen:n};return t}e.module("selfbitsAngular").factory("sbGuid",n)}(angular);